(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61f8c9da","chunk-5d9ab32a"],{1864:function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("b-form-select",{ref:"dimensionSelect",attrs:{id:"dimensionSelect",disabled:e.is_disabled,size:e.display_size,options:e.filteredItems},on:{change:function(n){return e.onChange(n)}},model:{value:e.selected,callback:function(n){e.selected=n},expression:"selected"}})},s=[],o=(t("6762"),t("2fdb"),t("cadf"),t("551c"),t("f751"),t("097d"),t("bc3a")),r=t.n(o),l=t("61da"),d={name:"dimension-select",props:{dimension:{type:String},dimensionUrl:{type:String,default:function(){return""}},existing:{type:Array,default:function(){return[]}},environment:{type:String,default:function(){return""}},includeall:{type:Boolean,default:function(){return!1}},initial:{type:String,default:function(){return""}},display_size:{type:String,default:function(){return"md"}},is_disabled:{type:Boolean,default:function(){return!1}}},data:function(){return{items:[],selected:this.initial}},computed:{filteredItems:function(){var e=this;return this.items.length>0?this.items.filter(function(n){if(!e.existing.includes(n))return n}):[]}},watch:{dimension:"updateSelector",dimensionUrl:"updateSelector",existing:"updateSelector",environment:"updateSelector",initial:"updateSelector"},methods:{onChange:function(e){this.$emit("dimension-select-change",e)},updateSelector:function(){var e=this;if((void 0!=this.dimension||""!=this.dimensionUrl)&&""!=this.$store.state.session){var n=this.dimensionUrl;0==this.dimensionUrl.length&&(n="/api/dimensions/table/"+this.dimension,""!=this.environment&&(n+="/environment/"+this.environment));var t=this;r.a.get(n,{baseURL:this.$store.state.url,params:{session_id:this.$store.state.session}}).then(function(n){t.items=n.data,t.items=t.items.length>0?t.items.filter(function(e){if(!t.existing.includes(e))return e}):[],1==t.items.length&&t.$emit("dimension-select-change",t.items[0]),t.includeall&&("dfd_filter"==t.dimension?t.items.unshift("None"):"persona_characteristic"==t.dimension?t.items.unshift("All"):t.items.unshift("all")),e.selected=e.initial}).catch(function(e){l["a"].$emit("operation-failure","Error updating selector:"+e)})}}},mounted:function(){void 0==this.dimension&&""==this.dimensionUrl||this.updateSelector()}},a=d,c=t("2877"),u=Object(c["a"])(a,i,s,!1,null,null,null);n["default"]=u.exports},"1e3b":function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("b-modal",{ref:"dimensionDialog",attrs:{title:this.dialogTitle},on:{ok:e.onOk}},[t("b-card",[""==e.environment?t("dimension-select",{attrs:{dimensionUrl:this.dimensionUrl,dimension:this.dimension,existing:this.existing,initial:this.initial},on:{"dimension-select-change":e.dimensionSelected}}):e._e(),""!=e.environment?t("dimension-select",{attrs:{dimensionUrl:this.dimensionUrl,environment:this.environment,dimension:this.dimension,existing:this.existing,initial:this.initial},on:{"dimension-select-change":e.dimensionSelected}}):e._e()],1)],1)},s=[],o=t("1864"),r={name:"dimension-modal",props:{dimension:String,existing:{type:Array,default:function(){return[]}},initial:{type:String,default:function(){return""}},environment:{type:String,default:function(){return""}},dimensionUrl:{type:String,default:function(){return""}},label:{type:String,default:function(){return""}}},data:function(){return{selected:""}},components:{DimensionSelect:o["default"]},computed:{dialogTitle:function(){return"Select "+(this.label.length>0?this.label:void 0!=this.dimension?this.dimension:"Object")}},methods:{show:function(){this.$refs.dimensionDialog.show()},dimensionSelected:function(e){this.selected=e},onOk:function(e){0==this.selected.length?(e.preventDefault(),alert("Please select a value")):(this.$emit("dimension-modal-update",this.selected),this.$refs.dimensionDialog.hide())}}},l=r,d=t("2877"),a=Object(d["a"])(l,i,s,!1,null,null,null);n["default"]=a.exports},"2fdb":function(e,n,t){"use strict";var i=t("5ca1"),s=t("d2c8"),o="includes";i(i.P+i.F*t("5147")(o),"String",{includes:function(e){return!!~s(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},5147:function(e,n,t){var i=t("2b4c")("match");e.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[i]=!1,!"/./"[e](n)}catch(s){}}return!0}},6762:function(e,n,t){"use strict";var i=t("5ca1"),s=t("c366")(!0);i(i.P,"Array",{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),t("9c6c")("includes")},d2c8:function(e,n,t){var i=t("aae3"),s=t("be13");e.exports=function(e,n,t){if(i(n))throw TypeError("String#"+t+" doesn't accept regex!");return String(s(e))}}}]);
//# sourceMappingURL=chunk-61f8c9da.2a28668a.js.map