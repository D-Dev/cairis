(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57e5e76a","chunk-f72b1efa","chunk-9ec17444","chunk-2d0b6727","chunk-2d0ac01b","chunk-2d22dbe2","chunk-2d0f156f"],{1864:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form-select",{ref:"dimensionSelect",attrs:{id:"dimensionSelect",disabled:t.is_disabled,size:t.display_size,options:t.filteredItems},on:{change:function(e){return t.onChange(e)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})},o=[],s=(n("6762"),n("2fdb"),n("bc3a")),a=n.n(s),r=n("61da"),l={name:"dimension-select",props:{dimension:{type:String},dimensionUrl:{type:String,default:function(){return""}},existing:{type:Array,default:function(){return[]}},environment:{type:String,default:function(){return""}},includeall:{type:Boolean,default:function(){return!1}},initial:{type:String,default:function(){return""}},display_size:{type:String,default:function(){return"md"}},is_disabled:{type:Boolean,default:function(){return!1}}},data:function(){return{items:[],selected:this.initial}},computed:{filteredItems:function(){var t=this;return this.items.length>0?this.items.filter(function(e){if(!t.existing.includes(e))return e}):[]}},watch:{dimension:"updateSelector",dimensionUrl:"updateSelector",existing:"updateSelector",environment:"updateSelector",initial:"updateSelector"},methods:{onChange:function(t){this.$emit("dimension-select-change",t)},updateSelector:function(){var t=this;if((void 0!=this.dimension||""!=this.dimensionUrl)&&""!=this.$store.state.session){var e=this.dimensionUrl;0==this.dimensionUrl.length&&(e="/api/dimensions/table/"+this.dimension,""!=this.environment&&(e+="/environment/"+this.environment));var n=this;a.a.get(e,{baseURL:this.$store.state.url,params:{session_id:this.$store.state.session}}).then(function(e){n.items=e.data,n.items=n.items.length>0?n.items.filter(function(t){if(!n.existing.includes(t))return t}):[],1==n.items.length&&n.$emit("dimension-select-change",n.items[0]),n.includeall&&("dfd_filter"==n.dimension?n.items.unshift("None"):"persona_characteristic"==n.dimension?n.items.unshift("All"):n.items.unshift("all")),t.selected=t.initial}).catch(function(t){r["a"].$emit("operation-failure","Error updating selector:"+t)})}}},mounted:function(){void 0==this.dimension&&""==this.dimensionUrl||this.updateSelector()}},c=l,u=n("2877"),d=Object(u["a"])(c,i,o,!1,null,null,null);e["default"]=d.exports},"1ccb":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{ref:"assetDialog",attrs:{"ok-only":"",title:t.dialogTitle}},[void 0!=t.objt?n("b-container",[n("b-form-group",{attrs:{label:"Type","label-class":"font-weight-bold text-sm-left","label-cols":"3","label-for":"theType"}},[n("b-form-input",{attrs:{readonly:"",id:"theType"},model:{value:t.objt.theType,callback:function(e){t.$set(t.objt,"theType",e)},expression:"objt.theType"}})],1),n("b-form-group",{attrs:{label:"Description","label-class":"font-weight-bold text-sm-left","label-for":"theDescription"}},[n("b-form-textarea",{attrs:{id:"theDescription",type:"text",rows:2,"max-rows":4,readonly:""},model:{value:t.objt.theDescription,callback:function(e){t.$set(t.objt,"theDescription",e)},expression:"objt.theDescription"}})],1),n("b-form-group",{attrs:{label:"Significance","label-class":"font-weight-bold text-sm-left","label-for":"theSignificance"}},[n("b-form-textarea",{attrs:{id:"theSignificance",type:"text",rows:2,"max-rows":4,readonly:""},model:{value:t.objt.theSignificance,callback:function(e){t.$set(t.objt,"theSignificance",e)},expression:"objt.theSignificance"}})],1),n("b-table",{attrs:{bordered:"",small:"",items:t.notNone,fields:t.propTableFields}})],1):t._e()],1)},o=[],s={name:"asset-modal",props:{environment:String,asset:Object},data:function(){return{theEnvironmentName:this.environment,objt:this.asset,propTableFields:{name:{label:"Property"},value:{label:"Value"},rationale:{label:"Rationale"}}}},watch:{asset:"updateData"},computed:{dialogTitle:function(){return(void 0!=this.objt?this.objt.theName:"")+" Asset"},notNone:function(){var t=this;return void 0!=this.objt&&this.objt.theEnvironmentProperties.length>0?this.objt.theEnvironmentProperties.filter(function(e){return e.theEnvironmentName==t.theEnvironmentName})[0].theProperties.filter(function(t){return"None"!=t.value}):[]}},methods:{show:function(){this.$refs.assetDialog.show()},updateData:function(){this.objt=this.asset,this.theEnvironmentName=this.environment}}},a=s,r=n("2877"),l=Object(r["a"])(a,i,o,!1,null,null,null);e["default"]=l.exports},"2fdb":function(t,e,n){"use strict";var i=n("5ca1"),o=n("d2c8"),s="includes";i(i.P+i.F*n("5147")(s),"String",{includes:function(t){return!!~o(this,t,s).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},5147:function(t,e,n){var i=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(o){}}return!0}},"584a":function(t,e){var n=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=n)},6762:function(t,e,n){"use strict";var i=n("5ca1"),o=n("c366")(!0);i(i.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"74d8":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"locationsmodel"},[n("asset-modal",{ref:"assetDialog",attrs:{environment:this.theEnvironmentName,asset:this.theSelectedObject}}),n("risk-modal",{ref:"riskDialog",attrs:{environment:this.theEnvironmentName,risk:this.theSelectedObject,responseList:this.theResponseList}}),n("persona-modal",{ref:"personaDialog",attrs:{environment:this.theEnvironmentName,persona:this.theSelectedObject}}),n("b-card",{attrs:{"no-body":""}},[n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",[n("b-form-group",{attrs:{label:"Location","label-for":"locationsModelLocation","label-cols":4}},[n("dimension-select",{ref:"locationsModelLocation",attrs:{id:"locationsModelLocation",dimension:"locations"},on:{"dimension-select-change":t.locationsSelected}})],1)],1),""!=t.theLocationsName?n("b-col",[n("b-form-group",{attrs:{label:"Environment","label-for":"locationsModelEnvironment","label-cols":4}},[n("dimension-select",{ref:"locationsModelEnvironment",attrs:{id:"locationsModelEnvironment",dimension:"environment"},on:{"dimension-select-change":t.environmentSelected}})],1)],1):t._e()],1)],1)],1),""!=t.theEnvironmentName?n("graphical-model",{attrs:{api:t.locationsModelURI},on:{"graphical-model-url":t.nodeClicked}}):t._e()],1)},o=[],s=n("bc3a"),a=n.n(s),r=n("e342"),l=n("1864"),c=n("1ccb"),u=n("9fe1"),d=n("f992"),h=n("61da"),m={computed:{locationsModelURI:function(){return"/api/locations/model/locations/"+this.theLocationsName+"/environment/"+this.theEnvironmentName}},data:function(){return{theLocationsName:"",theEnvironmentName:"",theResponseList:[],theSelectedObject:null}},components:{DimensionSelect:l["default"],GraphicalModel:r["default"],AssetModal:c["default"],RiskModal:u["default"],PersonaModal:d["default"]},methods:{nodeClicked:function(t){var e=this,n=t.slice(5).substring(0,t.slice(5).indexOf("/"));-1!=["assets","risks","personas"].indexOf(n)&&a.a.get(t,{baseURL:this.$store.state.url,params:{session_id:this.$store.state.session}}).then(function(t){e.theSelectedObject=t.data,"assets"==n?e.$refs.assetDialog.show():"personas"==n?e.$refs.personaDialog.show():"risks"==n&&a.a.get("/api/risks/name/"+e.theSelectedObject.theName+"/threat/"+e.theSelectedObject.theThreatName+"/vulnerability/"+e.theSelectedObject.theVulnerabilityName+"/environment/"+e.theEnvironmentName,{baseURL:e.$store.state.url,params:{session_id:e.$store.state.session}}).then(function(t){e.theResponseList=t.data,e.$refs.riskDialog.show()}).catch(function(t){h["a"].$emit("operation-failure",t)})}).catch(function(t){h["a"].$emit("operation-failure",t)})},locationsSelected:function(t){this.theLocationsName=t},environmentSelected:function(t){this.theEnvironmentName=t}}},b=m,f=n("2877"),p=Object(f["a"])(b,i,o,!1,null,null,null);e["default"]=p.exports},"9fe1":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{ref:"riskDialog",attrs:{"ok-only":"",title:t.dialogTitle}},[void 0!=t.objt?n("b-container",[n("b-form-group",{attrs:{label:"Threat","label-class":"font-weight-bold text-sm-left","label-cols":"3","label-for":"theThreat"}},[n("b-form-input",{attrs:{readonly:"",id:"theThreat"},model:{value:t.objt.theThreatName,callback:function(e){t.$set(t.objt,"theThreatName",e)},expression:"objt.theThreatName"}})],1),n("b-form-group",{attrs:{label:"Vulnerability","label-class":"font-weight-bold text-sm-left","label-cols":"3","label-for":"theVulnerability"}},[n("b-form-input",{attrs:{readonly:"",id:"theVulnerability"},model:{value:t.objt.theVulnerabilityName,callback:function(e){t.$set(t.objt,"theVulnerabilityName",e)},expression:"objt.theVulnerabilityName"}})],1),n("b-form-group",{attrs:{label:"Risk Rating","label-class":"font-weight-bold text-sm-left","label-cols":"3","label-for":"theRiskRating"}},[n("b-form-input",{attrs:{readonly:"",id:"theRiskRating"},model:{value:t.riskrating,callback:function(e){t.riskrating=e},expression:"riskrating"}})],1),n("b-table",{attrs:{bordered:"",small:"",items:t.responses,fields:t.responseTableFields}})],1):t._e()],1)},o=[],s={name:"risk-modal",props:{environment:String,risk:Object,responseList:Array},data:function(){return{theEnvironmentName:this.environment,objt:this.risk,responses:this.responseList,responseTableFields:{responseName:{label:"Response"},unmitScore:{label:"Unmitigated Score"},mitScore:{label:"Mitigated Score"}}}},watch:{risk:"updateData"},computed:{dialogTitle:function(){return(void 0!=this.objt?this.objt.theName:"")+" Risk"},riskrating:function(){var t=this;return void 0!=this.objt&&this.objt.theMisuseCase.theEnvironmentProperties.length>0?this.objt.theMisuseCase.theEnvironmentProperties.filter(function(e){return e.theEnvironmentName==t.theEnvironmentName})[0].theRiskRating.rating:""}},methods:{show:function(){this.$refs.riskDialog.show()},updateData:function(){this.objt=this.risk,this.theEnvironmentName=this.environment,this.responses=this.responseList}}},a=s,r=n("2877"),l=Object(r["a"])(a,i,o,!1,null,null,null);e["default"]=l.exports},aae3:function(t,e,n){var i=n("d3f4"),o=n("2d95"),s=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==o(t))}},d2c8:function(t,e,n){var i=n("aae3"),o=n("be13");t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},e3c2:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"locationmodelview"},[n("b-breadcrumb",{attrs:{items:t.bcItems}}),n("locations-model")],1)},o=[],s=n("74d8"),a={computed:{bcItems:function(){return[{text:"Home",to:{name:"home"}},{text:"Locations Model",to:{name:"locationsmodel"}}]}},components:{LocationsModel:s["default"]}},r=a,l=n("2877"),c=Object(l["a"])(r,i,o,!1,null,null,null);e["default"]=c.exports},f992:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{ref:"personaDialog",attrs:{"ok-only":"",title:t.dialogTitle}},[void 0!=t.objt?n("b-container",[n("b-tabs",[n("b-tab",{attrs:{title:"Activities",active:""}},[n("b-form-textarea",{attrs:{type:"text",rows:4,"max-rows":8,required:""},model:{value:t.objt.theActivities,callback:function(e){t.$set(t.objt,"theActivities",e)},expression:"objt.theActivities"}})],1),n("b-tab",{attrs:{title:"Attitudes"}},[n("b-form-textarea",{attrs:{type:"text",rows:4,"max-rows":8,required:""},model:{value:t.objt.theAttitudes,callback:function(e){t.$set(t.objt,"theAttitudes",e)},expression:"objt.theAttitudes"}})],1),n("b-tab",{attrs:{title:"Aptitudes"}},[n("b-form-textarea",{attrs:{type:"text",rows:4,"max-rows":8,required:""},model:{value:t.objt.theAptitudes,callback:function(e){t.$set(t.objt,"theAptitudes",e)},expression:"objt.theAptitudes"}})],1),n("b-tab",{attrs:{title:"Motivations"}},[n("b-form-textarea",{attrs:{type:"text",rows:4,"max-rows":8,required:""},model:{value:t.objt.theMotivations,callback:function(e){t.$set(t.objt,"theMotivations",e)},expression:"objt.theMotivations"}})],1),n("b-tab",{attrs:{title:"Skills"}},[n("b-form-textarea",{attrs:{type:"text",rows:4,"max-rows":8,required:""},model:{value:t.objt.theSkills,callback:function(e){t.$set(t.objt,"theSkills",e)},expression:"objt.theSkills"}})],1),n("b-tab",{attrs:{title:"Narrative"}},[n("b-form-textarea",{attrs:{type:"text",rows:4,"max-rows":8,required:""},model:{value:t.narrative,callback:function(e){t.narrative=e},expression:"narrative"}})],1)],1)],1):t._e()],1)},o=[],s={name:"persona-modal",props:{environment:String,persona:Object},data:function(){return{theEnvironmentName:this.environment,objt:this.persona}},watch:{persona:"updateData"},computed:{dialogTitle:function(){return(void 0!=this.objt?this.objt.theName:"")+" Persona"},narrative:function(){var t=this;return void 0!=this.objt?this.objt.theEnvironmentProperties.filter(function(e){return e.theEnvironmentName==t.theEnvironmentName})[0].theNarrative:""}},methods:{show:function(){this.$refs.personaDialog.show()},updateData:function(){this.objt=this.persona,this.theEnvironmentName=this.environment}}},a=s,r=n("2877"),l=Object(r["a"])(a,i,o,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-57e5e76a.425c659c.js.map