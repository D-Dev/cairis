(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f16f066c"],{"3f53":function(t,e,o){"use strict";var s=o("bc3a"),a=o.n(s),n=o("61da");e["a"]={methods:{commitObject:function(t,e,o,s,i){var r=this;"undefined"==typeof s&&(s={post:{},put:{}}),"Update"==this.commitLabel?a.a.put(t,{session_id:this.$store.state.session,object:this.objt}).then(function(t){n["a"].$emit("operation-success",t.data.message),void 0!=i?r.$router.push({name:o,params:{dimension:i}}):r.$router.push({name:o})}).catch(function(t){n["a"].$emit("operation-failure",t)}):a.a.post(e,{session_id:this.$store.state.session,object:this.objt},{params:s["post"]}).then(function(t){n["a"].$emit("operation-success",t.data.message),void 0!=i?r.$router.push({name:o,params:{dimension:i}}):r.$router.push({name:o})}).catch(function(t){n["a"].$emit("operation-failure",t)})}},postImage:function(t){var e="/api/upload/image?session_id="+this.$store.state.session;a.a.post(e,t).then(function(t){n["a"].$emit("operation-success",t.data.message)}).catch(function(t){n["a"].$emit("operation-failure",t)})}}},"4e92":function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"externaldocumentview"},[o("b-breadcrumb",{attrs:{items:t.bcItems}}),o("external-document",{attrs:{object:this.objt,label:this.commitLabel},on:{"externaldocument-commit":t.commitExternalDocument}})],1)},a=[],n=o("bc3a"),i=o.n(n),r=o("3f53"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"externaldocument"},[t.errors.length?o("p",[o("b",[t._v("Please correct the following error(s):")]),o("ul",t._l(t.errors,function(e){return o("li",{key:e},[t._v(t._s(e))])}),0)]):t._e(),o("b-form",[o("b-container",{attrs:{fluid:""}},[o("b-card",{attrs:{"bg-variant":"light",no:"",body:""}},[o("b-row",[o("b-col",{attrs:{md:"12"}},[o("b-container",{attrs:{fluid:""}},[o("b-form-group",{attrs:{label:"Name","label-class":"font-weight-bold text-md-left","label-for":"theNameInput"}},[o("b-form-input",{attrs:{id:"theNameInput",type:"text",required:""},model:{value:t.objt.theName,callback:function(e){t.$set(t.objt,"theName",e)},expression:"objt.theName"}})],1),o("b-form-group",{attrs:{label:"Authors","label-class":"font-weight-bold text-md-left","label-for":"theAuthorsInput"}},[o("b-form-input",{attrs:{id:"theAuthorsInput",type:"text",required:""},model:{value:t.objt.theAuthors,callback:function(e){t.$set(t.objt,"theAuthors",e)},expression:"objt.theAuthors"}})],1),o("b-form-group",{attrs:{label:"Version","label-class":"font-weight-bold text-md-left","label-for":"theVersion"}},[o("b-form-input",{attrs:{id:"theVersionInput",type:"text",required:""},model:{value:t.objt.theVersion,callback:function(e){t.$set(t.objt,"theVersion",e)},expression:"objt.theVersion"}})],1),o("b-form-group",{attrs:{label:"Publication Date","label-class":"font-weight-bold text-md-left","label-for":"thePublicationDateInput"}},[o("b-form-input",{attrs:{id:"thePublicationDateInput",type:"text",required:""},model:{value:t.objt.thePublicationDate,callback:function(e){t.$set(t.objt,"thePublicationDate",e)},expression:"objt.thePublicationDate"}})],1),o("b-form-group",{attrs:{label:"Description","label-class":"font-weight-bold text-md-left","label-for":"theDescriptionInput"}},[o("b-form-textarea",{attrs:{id:"theDescriptionInput",type:"text",rows:4,"max-rows":6,required:""},model:{value:t.objt.theDescription,callback:function(e){t.$set(t.objt,"theDescription",e)},expression:"objt.theDescription"}})],1)],1)],1)],1)],1)],1),o("b-container",{attrs:{fluid:""}},[o("b-form-row",[o("b-col",{attrs:{md:"4","offset-md":"5"}},[o("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:t.onCommit}},[t._v(t._s(t.commitLabel))]),o("b-button",{attrs:{type:"submit",variant:"secondary"},on:{click:t.onCancel}},[t._v("Cancel")])],1)],1)],1)],1)],1)},u=[],l=o("94cc"),m={name:"external-document",props:{object:Object,label:String},watch:{object:"setObject"},mixins:[l["a"]],data:function(){return{errors:[],objt:this.object,commitLabel:"Create"}},methods:{setObject:function(){this.objt=this.object,this.commitLabel=this.label},onCommit:function(t){t.preventDefault(),this.checkForm()&&this.$emit("externaldocument-commit",this.objt)},onCancel:function(t){t.preventDefault(),this.$router.push({name:"externaldocuments"})},checkForm:function(){return this.errors=[],0==this.objt.theName.length&&this.errors.push("External Document name is required"),0==this.objt.theAuthors.length&&this.errors.push("Authors are required"),0==this.objt.theVersion.length&&this.errors.push("Version is required"),0==this.objt.thePublicationDate.length&&this.errors.push("Publication Date is required"),0==this.objt.theDescription.length&&this.errors.push("Description is required"),!this.errors.length}}},h=m,b=o("2877"),p=Object(b["a"])(h,c,u,!1,null,null,null),d=p.exports,f=o("4360"),j=o("61da"),x={props:{objectName:String},mixins:[r["a"]],computed:{bcItems:function(){return[{text:"Home",to:{name:"home"}},{text:"External Documents",to:{name:"externaldocuments"}},{text:this.objt.theName,to:{name:"externaldocument"}}]}},components:{ExternalDocument:d},data:function(){return{objt:{theName:"",theVersion:"",thePublicationDate:"",theAuthors:"",theDescription:""},commitLabel:"Create"}},beforeRouteEnter:function(t,e,o){if("New externaldocument"==t.params.objectName)o();else{var s="/api/external_documents/name/"+t.params.objectName;i.a.get(s,{baseURL:f["a"].state.url,params:{session_id:f["a"].state.session}}).then(function(t){o(function(e){e.commitLabel="Update",e.objt=t.data})}).catch(function(t){j["a"].$emit("operation-failure",t)})}},methods:{commitExternalDocument:function(t){this.objt=t;var e=this.$store.state.url+"/api/external_documents/name/"+this.objectName+"?session_id="+this.$store.state.session,o=this.$store.state.url+"/api/external_documents";this.commitObject(e,o,"externaldocuments")}}},$=x,v=Object(b["a"])($,s,a,!1,null,null,null);e["default"]=v.exports},"94cc":function(t,e,o){"use strict";var s=o("bc3a"),a=o.n(s),n=o("61da");e["a"]={methods:{commitObject:function(t,e,o,s){var i=this;"Update"==this.commitLabel?a.a.put(t,{session_id:this.$store.state.session,object:this.objt}).then(function(t){n["a"].$emit("operation-success",t.data.message),void 0!=s?i.$router.push({name:o,params:{dimension:s}}):i.$router.push({name:o})}).catch(function(t){n["a"].$emit("operation-failure",t)}):a.a.post(e,{session_id:this.$store.state.session,object:this.objt}).then(function(t){n["a"].$emit("operation-success",t.data.message),void 0!=s?i.$router.push({name:o,params:{dimension:s}}):i.$router.push({name:o})}).catch(function(t){n["a"].$emit("operation-failure",t)})}}}}}]);
//# sourceMappingURL=chunk-f16f066c.fd4b76b7.js.map